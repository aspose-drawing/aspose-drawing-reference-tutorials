---
date: 2026-01-27
description: تعلم كيفية تدوير القطع الناقص وتحويل الرسومات إلى PNG باستخدام Aspose.Drawing
  لـ .NET. دليل خطوة بخطوة مع أمثلة على الشيفرة.
linktitle: Local Transformation in Aspose.Drawing
second_title: Aspose.Drawing .NET API - Alternative to System.Drawing.Common
title: 'كيفية تدوير الشكل البيضاوي: التحويل المحلي في Aspose.Drawing لـ .NET'
url: /ar/net/coordinate-transformations/local-transformation/
weight: 11
---

{{< blocks/products/pf/main-wrap-class >}}
{{< blocks/products/pf/main-container >}}
{{< blocks/products/pf/tutorial-page-section >}}

# كيفية تدوير القطع الناقص: التحويل المحلي في Aspose.Drawing لـ .NET

## المقدمة

إذا كنت بحاجة إلى **تدوير قطعة ناقصة** داخل تطبيق .NET، فإن Aspose.Drawing يوفر طريقة بسيطة وموثوقة للقيام بذلك. في هذا البرنامج التعليمي ستتعلم **كيفية تدوير القطع الناقص** باستخدام مصفوفة التحويل، عرض النتيجة، وأخيرًا **تحويل الرسومات إلى PNG** للتخزين أو المعالجة الإضافية. في النهاية، ستحصل على نمط قابل لإعادة الاستخدام يعمل مع أي سيناريو تحويل محلي.

## إجابات سريعة
- **ما هو التحويل المحلي؟** هو عملية تعتمد على المصفوفة (تدوير، تحجيم، إزاحة، إمالة) تُطبق على عنصر رسم محدد دون التأثير على كامل اللوحة.  
- **أي مكتبة تدعم ذلك في .NET؟** Aspose.Drawing لـ .NET توفر API متكامل يعمل على جميع إصدارات .NET المدعومة.  
- **هل يمكنني حفظ النتيجة كملف PNG؟** نعم—فقط استدعِ `Bitmap.Save` مع اسم ملف بامتداد “.png”، وستتولى Aspose.Drawing عملية التحويل.  
- **هل أحتاج إلى ترخيص للتطوير؟** النسخة التجريبية المجانية تكفي للاختبار؛ يلزم ترخيص تجاري للاستخدام في الإنتاج.  
- **كم من الوقت تستغرق عملية التنفيذ؟** تقريبًا 10‑15 دقيقة لإنشاء مثال أساسي.

## كيفية تدوير القطع الناقص باستخدام Aspose.Drawing
تدوير القطع الناقص هو في الأساس **تدوير شكل باستخدام مصفوفة**. تقوم بإنشاء `Matrix`، تعيين زاوية التدوير، تحديد نقطة مركز القطع الناقص، ثم تطبيق تلك المصفوفة على `GraphicsPath`. هذا يبقي التدوير محصورًا على القطع الناقص بينما تظل بقية اللوحة دون تغيير.

## ما هو “كيفية تطبيق التحويل” في برمجة الرسومات؟
تطبيق التحويل يعني تعديل نظام إحداثيات كائن الرسم باستخدام **Matrix**. تحدد المصفوفة كيف يتم تدوير النقاط أو تحجيمها أو نقلها، مما يتيح لك إنشاء تأثيرات بصرية متقدمة بأقل قدر من الشيفرة.

## لماذا نستخدم Aspose.Drawing **لتحويل الرسومات إلى PNG**؟
- **متعدد المنصات**: يعمل على .NET Framework، .NET Core، و .NET 5/6+.  
- **بدون تبعيات GDI+**: يتجنب مشاكل `System.Drawing.Common` على الأنظمة غير Windows.  
- **جودة عرض عالية**: مضاد للتعرج وإخراج بكسل‑مثالي لملفات PNG.  
- **API غني**: دعم كامل للمسارات، الأقلام، الفرش، ومصفوفات التحويل.

## المتطلبات المسبقة

قبل أن تبدأ، تأكد من وجود ما يلي:

1. **Aspose.Drawing لـ .NET** – قم بتنزيله وتثبيته من [رابط التحميل](https://releases.aspose.com/drawing/net/).  
2. مجلد على جهازك حيث سيتم حفظ صورة الإخراج (مثال: `C:\MyImages\`).  
3. إلمام أساسي بـ C# وإعداد مشروع .NET.  

## استيراد المساحات الاسمية

أولاً، استورد المساحات الاسمية المطلوبة في ملف C# الخاص بك:

```csharp
using System.Drawing;
using System.Drawing.Drawing2D;
```

تمنحك هذه المساحات الاسمية الوصول إلى الفئات `Bitmap`، `Graphics`، `GraphicsPath`، و `Matrix` اللازمة لسير عمل التحويل.

## دليل خطوة بخطوة

### الخطوة 1: إنشاء Bitmap

نبدأ بلوحة فارغة. يتم اختيار حجم الـ bitmap وتنسيق البكسل لتوفير صورة عالية الجودة، 32‑bit، تدعم الشفافية.

```csharp
Bitmap bitmap = new Bitmap(1000, 800, System.Drawing.Imaging.PixelFormat.Format32bppPArgb);
```

> **نصيحة احترافية:** استخدام `Format32bppPArgb` يضمن بقاء الصورة مع ألفا مضاعف مسبقًا، وهو مثالي لإخراج PNG.

### الخطوة 2: إنشاء كائن Graphics

كائن `Graphics` يوفر طرق رسم تعمل على الـ bitmap. نقوم بمسح الخلفية إلى رمادي محايد حتى يبرز الشكل المحول.

```csharp
Graphics graphics = Graphics.FromImage(bitmap);
graphics.Clear(Color.FromKnownColor(KnownColor.Gray));
```

### الخطوة 3: إنشاء GraphicsPath

`GraphicsPath` يتيح لك تعريف أشكال معقدة. هنا نضيف قطعًا ناقصًا موضعه (300, 300) بعرض 400 وارتفاع 200.

```csharp
GraphicsPath path = new GraphicsPath();
path.AddEllipse(300, 300, 400, 200);
```

### الخطوة 4: تطبيق التحويل المحلي (تدوير الشكل باستخدام مصفوفة)

الآن نجيب على السؤال الأساسي: **كيفية تدوير القطع الناقص**. نقوم بإنشاء `Matrix`، ندورها 45° حول مركز القطع الناقص (500, 400)، ثم نطبق المصفوفة على المسار.

```csharp
Matrix matrix = new Matrix();
matrix.RotateAt(45, new Point(500, 400));
path.Transform(matrix);
```

> **لماذا التدوير حول نقطة؟** التدوير حول مركز الشكل يمنعه من الدوران حول الأصل، مما يعطي مظهرًا طبيعيًا.

### الخطوة 5: رسم المسار المحول

مع وجود التحويل، نقوم برسم المسار باستخدام قلم أزرق بسُمك 2.

```csharp
Pen pen = new Pen(Color.FromKnownColor(KnownColor.Blue), 2);
graphics.DrawPath(pen, path);
```

### الخطوة 6: حفظ الصورة المحولة (تحويل الرسومات إلى PNG)

أخيرًا، نقوم بحفظ الـ bitmap كملف PNG. يجمع المسار بين الدليل المختار ومجلد فرعي لأمثلة التحويل.

```csharp
bitmap.Save("Your Document Directory" + @"CoordinateSystemsTransformations\LocalTransformation_out.png");
```

> **ملاحظة:** يوضح هذا السطر أيضًا **كيفية حفظ bitmap كـ PNG**. الامتداد `.png` يُفعل تلقائيًا مشفر PNG الخاص بـ Aspose.Drawing، مما يلبي متطلبات **تحويل الرسومات إلى PNG**.

## المشكلات الشائعة والحلول

| المشكلة | السبب | الحل |
|-------|-------|-----|
| **صورة الإخراج فارغة** | لم يتم مسح الـ Graphics أو لون القلم يطابق الخلفية | استدعِ `graphics.Clear` بلون متباين وتأكد من وضوح لون القلم. |
| **تدوير مشوه** | استخدام `Rotate` بدلاً من `RotateAt` | استخدم `RotateAt` وحدد نقطة مركز الشكل. |
| **الملف غير محفوظ** | مسار الدليل غير صالح أو عدم وجود أذونات كتابة | تحقق من وجود الدليل ومن أن التطبيق يملك صلاحية الكتابة. |
| **الـ PNG يبدو غير واضح** | إعداد DPI منخفض للـ bitmap | أنشئ الـ bitmap بدقة أعلى أو اضبط `graphics.SmoothingMode = SmoothingMode.AntiAlias`. |

## الأسئلة المتكررة

**س:** هل يمكنني ربط عدة تحويلات (مثل التحجيم ثم التدوير)؟  
**ج:** نعم. أنشئ `Matrix` واحدًا واستدعِ طرق مثل `Scale`، `RotateAt`، و `Translate` بالترتيب المطلوب، ثم طبّقها بـ `path.Transform(matrix);`.

**س:** هل Aspose.Drawing مناسب للعرض عالي الأداء؟  
**ج:** بالتأكيد. المكتبة مُحسّنة لكل من السرعة والجودة، وتتفادى قيود GDI+ على الأنظمة غير Windows.

**س:** ما أنواع التحويلات الأخرى المدعومة؟  
**ج:** بجانب التدوير، يمكنك تنفيذ الإزاحة، التحجيم، والإمالة باستخدام نفس فئة `Matrix`.

**س:** كيف أتعامل مع الاستثناءات أثناء عملية التحويل؟  
**ج:** غلف شيفرة الرسم داخل كتلة `try‑catch` وتفحص استثناءات `System.Drawing.Drawing2D`. راجع الوثائق الرسمية لـ [Aspose.Drawing documentation](https://reference.aspose.com/drawing/net/) للحصول على إرشادات مفصلة حول معالجة الأخطاء.

**س:** هل يمكنني تجربة Aspose.Drawing قبل الشراء؟  
**ج:** نعم، نسخة تجريبية كاملة الوظائف متاحة عبر رابط [free trial](https://releases.aspose.com/).

## الخاتمة

باتباعك لهذا الدليل، أصبحت الآن تعرف **كيفية تدوير القطع الناقص** باستخدام Aspose.Drawing لـ .NET وكيفية **تحويل الرسومات إلى PNG** للتخزين الدائم. يمكن إعادة استخدام نفس النمط للتحجيم، الإزاحة، أو الإمالة لأي شكل، مما يمكنك من بناء مكونات بصرية غنية وتفاعلية في تطبيقاتك.

{{< /blocks/products/pf/tutorial-page-section >}}

{{< /blocks/products/pf/main-container >}}
{{< /blocks/products/pf/main-wrap-class >}}

{{< blocks/products/products-backtop-button >}}

---

**آخر تحديث:** 2026-01-27  
**تم الاختبار مع:** Aspose.Drawing 24.11 لـ .NET  
**المؤلف:** Aspose  

---