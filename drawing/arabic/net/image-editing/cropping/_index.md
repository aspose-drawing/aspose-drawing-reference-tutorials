---
date: 2025-12-02
description: تعلم كيفية قص الصورة في .net باستخدام Aspose.Drawing. يوضح هذا الدرس
  خطوة بخطوة كيفية حفظ الصورة المقصوصة، والعمل مع الـ bitmap، ومعالجة قص الصور على
  دفعات.
language: ar
linktitle: How to Crop Image .NET Using Aspose.Drawing
second_title: Aspose.Drawing .NET API - Alternative to System.Drawing.Common
title: كيفية قص الصورة في .NET باستخدام Aspose.Drawing
url: /net/image-editing/cropping/
weight: 10
---

{{< blocks/products/pf/main-wrap-class >}}
{{< blocks/products/pf/main-container >}}
{{< blocks/products/pf/tutorial-page-section >}}

# كيفية قص الصورة .NET باستخدام Aspose.Drawing

## المقدمة

إذا كنت تقوم بتطوير تطبيق .NET يحتاج إلى معالجة صور دقيقة، فإن تعلم **كيفية قص ملفات الصورة** أمر أساسي. توفر مكتبة Aspose.Drawing واجهة برمجة تطبيقات غنية ومُدارة بالكامل تتيح لك **قص الصور في مشاريع .NET** دون الاعتماد على مكتبة System.Drawing.Common القديمة. في هذا الدرس ستشاهد مثالًا كاملاً من البداية إلى النهاية يوضح كيفية تحميل صورة bitmap، تعريف منطقة القص، تنفيذ العملية، وأخيرًا **حفظ الصورة المقصوصة**. بنهاية الدرس، ستكون جاهزًا لدمج قص الصور في أي حل .NET—سواء كان صورة واحدة أو **معالجة دفعة من الصور**.

## إجابات سريعة
- **ما المكتبة التي يجب استخدامها؟** Aspose.Drawing for .NET  
- **هل يمكنني قص أي صيغة صورة؟** نعم—معظم الصيغ الشائعة (PNG، JPEG، BMP، إلخ) مدعومة.  
- **هل أحتاج إلى ترخيص؟** النسخة التجريبية مجانية للتطوير؛ الترخيص مطلوب للإنتاج.  
- **هل يمكن تنفيذ معالجة دفعات؟** بالتأكيد—يمكنك تكرار نفس الكود على مجموعة من الملفات.  
- **ما إصدارات .NET المدعومة؟** .NET Framework 4.6+، .NET Core 3.1+، .NET 5/6/7.

## ما هو “crop image .net”؟

قص الصورة يعني استخراج منطقة مستطيلة من صورة أكبر. في .NET، يتم عادةً تنفيذ هذه العملية على كائن `Bitmap`. تُبسّط Aspose.Drawing العملية من خلال توفير بدائل رسومية عالية الأداء تعمل بشكل متسق عبر الأنظمة.

## لماذا نستخدم Aspose.Drawing لقص الصور؟

- **موثوقية عبر المنصات** – لا توجد تبعيات أصلية، تعمل على Windows، Linux، و macOS.  
- **دعم غني لتنسيقات البكسل** – يتعامل مع 32‑bit ARGB، PArgb، والعديد من التنسيقات الأخرى.  
- **تحسين الأداء** – رسم وتداخل محسن للصور الكبيرة.  
- **تكامل سلس** – يعمل جنبًا إلى جنب مع منتجات Aspose الأخرى مثل PDF، Slides، إلخ.

## المتطلبات المسبقة

قبل البدء، تأكد من وجود ما يلي:

- **مكتبة Aspose.Drawing** – أضف حزمة NuGet `Aspose.Drawing` إلى مشروعك أو حمّلها من [الموقع الرسمي](https://releases.aspose.com/drawing/net/).  
- **مجلد الصور** – دليل يحتوي على الصور المصدرية التي تريد قصها. استبدل `"Your Document Directory"` في مقاطع الشيفرة بالمسار الفعلي على جهازك.

## استيراد المساحات الاسمية

أولاً، استورد مساحة الأسماء التي تحتوي على فئات الرسم:

```csharp
using System.Drawing;
```

هذا يمنحك الوصول إلى `Bitmap`، `Graphics`، `Rectangle`، وغيرها من الأنواع الأساسية.

## دليل خطوة بخطوة

### الخطوة 1: إنشاء لوحة bitmap (crop image bitmap)

نبدأ بإنشاء bitmap فارغ سيحمل النتيجة المقصوصة. اضبط العرض، الارتفاع، وتنسيق البكسل ليتطابق مع حجم المنطقة التي تخطط لاستخراجها.

```csharp
Bitmap bitmap = new Bitmap(1000, 800, System.Drawing.Imaging.PixelFormat.Format32bppPArgb);
```

> **نصيحة:** تنسيق `Format32bppPArgb` يحافظ على شفافية ألفا ويقدم جودة رسم عالية.

### الخطوة 2: إنشاء كائن Graphics

كائن `Graphics` يتيح لنا الرسم على لوحة bitmap. ضبط `InterpolationMode` يؤثر على طريقة إعادة أخذ العينات أثناء القص.

```csharp
Graphics graphics = Graphics.FromImage(bitmap);
graphics.InterpolationMode = InterpolationMode.NearestNeighbor;
```

> **نصيحة احترافية:** للحصول على نتائج أكثر سلاسة على الصور المُقاسة، استخدم `InterpolationMode.HighQualityBicubic`.

### الخطوة 3: تحميل الصورة المصدر

حمّل الصورة التي تريد قصها. يجمع المسار دليل المستندات مع اسم الملف.

```csharp
Bitmap image = new Bitmap("Your Document Directory" + @"Images\aspose_logo.png");
```

> **ملاحظة:** يمكن لـ Aspose.Drawing قراءة PNG، JPEG، BMP، GIF، TIFF، والعديد من الصيغ الأخرى مباشرة.

### الخطوة 4: تعريف المستطيلات المصدرية والوجهة

المستطيل `sourceRectangle` يحدد الجزء من الصورة الأصلية الذي سيتم الاحتفاظ به. هنا نختار المنطقة العلوية اليسرى بحجم 50 × 40 بكسل. المستطيل `destinationRectangle` يخبر محرك الرسومات أين يضع الجزء المقصوص على الـ bitmap الجديد.

```csharp
Rectangle sourceRectangle = new Rectangle(0, 0, 50, 40);
Rectangle destinationRectangle = sourceRectangle;
```

> **لماذا المستطيلان؟** استخدام مستطيلات متطابقة يؤدي إلى قص بسيط. يمكنك تغيير `destinationRectangle` لإعادة تموضع أو تحجيم الجزء المقصوص.

### الخطوة 5: تنفيذ عملية القص

طريقة `DrawImage` تنسخ المنطقة المحددة من الصورة المصدر إلى bitmap الوجهة.

```csharp
graphics.DrawImage(image, destinationRectangle, sourceRectangle, GraphicsUnit.Pixel);
```

> **خطأ شائع:** نسيان تحرير `Graphics` قد يؤدي إلى حجز ملف الـ bitmap. سنقوم بتحرير الموارد تلقائيًا عند انتهاء الطريقة.

### الخطوة 6: حفظ الصورة المقصوصة (save cropped image)

أخيرًا، اكتب النتيجة إلى القرص. غيّر اسم الملف والمسار حسب الحاجة.

```csharp
bitmap.Save("Your Document Directory" + @"Images\Cropping_out.png");
```

> **النتيجة:** لديك الآن ملف PNG جديد يحتوي فقط على المنطقة بحجم 50 × 40 بكسل التي حددتها.

## المشكلات الشائعة والحلول

| المشكلة | السبب | الحل |
|-------|-------|-----|
| **ملف الناتج فارغ** | المستطيل المصدر خارج حدود الصورة | تحقق من إحداثيات وحجم `sourceRectangle`. |
| **استثناء نفاد الذاكرة** | صور مصدرية كبيرة جدًا | عالج الصور على دفعات أو استخدم عبارات `using` لتحرير الموارد فورًا. |
| **ألوان غير صحيحة** | تنسيق بكسل غير متطابق | طابق تنسيق بكسل الـ bitmap المصدر أو حوّله باستخدام `Bitmap.Clone`. |

## الأسئلة المتكررة

**س: هل يمكنني قص صور بأي صيغة باستخدام Aspose.Drawing؟**  
ج: نعم، تدعم Aspose.Drawing PNG، JPEG، BMP، GIF، TIFF، والعديد من الصيغ الأخرى، لذا يمكنك **كيفية قص ملفات الصورة** بغض النظر عن نوعها الأصلي.

**س: هل توجد خيارات قص متقدمة؟**  
ج: بالتأكيد. يمكنك دمج `GraphicsPath` للقص غير المستطيل، تطبيق دوران، أو استخدام `ImageAttributes` لتعديل الألوان.

**س: هل يمكنني تطبيق عمليات قص متعددة على صورة واحدة؟**  
ج: نعم—ما عليك سوى تكرار استدعاء `DrawImage` مع مستطيلات مصدر مختلفة، أو ربطها في حلقة لتحويلات مركبة.

**س: هل Aspose.Drawing مناسبة لمعالجة دفعات من الصور؟**  
ج: بالطبع. ضع الخطوات السابقة داخل حلقة `foreach` تمر على مجموعة من مسارات الملفات لمعالجة العشرات أو المئات من الصور تلقائيًا.

**س: كيف يمكنني الحصول على دعم لاستفسارات Aspose.Drawing؟**  
ج: زر [منتدى Aspose.Drawing](https://forum.aspose.com/c/diagram/17) لطرح الأسئلة، مشاركة الشيفرات، والحصول على مساعدة من المجتمع ومهندسي المنتج.

## الخاتمة

في هذا الدرس عرضنا سير عمل كامل لـ **crop image .net** باستخدام Aspose.Drawing. الآن تعرف كيف **كيفية قص ملفات الصورة**، تعريف مستطيلات المصدر بدقة، و**حفظ الصورة المقصوصة**. مع هذه الأساسيات يمكنك توسيع الشيفرة لتدعم **معالجة دفعات من الصور**، تطبيق تحويلات مخصصة، أو دمج المنطق في خطوط معالجة صور أكبر.

---  

**آخر تحديث:** 2025-12-02  
**تم الاختبار مع:** Aspose.Drawing 24.11 for .NET  
**المؤلف:** Aspose  

{{< /blocks/products/pf/tutorial-page-section >}}

{{< /blocks/products/pf/main-container >}}
{{< /blocks/products/pf/main-wrap-class >}}

{{< blocks/products/products-backtop-button >}}