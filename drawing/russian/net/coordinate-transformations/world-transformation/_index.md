---
date: 2025-11-29
description: Изучите, как создавать битмапы с помощью Aspose.Drawing, применять мировые
  преобразования и конвертировать графику в PNG. Пошаговое руководство для разработчиков
  .NET.
linktitle: World Transformation in Aspose.Drawing
second_title: Aspose.Drawing .NET API - Alternative to System.Drawing.Common
title: Создание битмапа с Aspose.Drawing — Руководство по мировому преобразованию
url: /ru/net/coordinate-transformations/world-transformation/
weight: 15
---

{{< blocks/products/pf/main-wrap-class >}}
{{< blocks/products/pf/main-container >}}
{{< blocks/products/pf/tutorial-page-section >}}

# Создание Bitmap с Aspose.Drawing – Мировое преобразование

## Введение

Добро пожаловать! В этом руководстве вы **создадите bitmap с Aspose.Drawing** и изучите мировые преобразования, позволяющие легко смещать, вращать или масштабировать графику. Независимо от того, нужен ли вам **пример перемещения графики**, вы хотите **конвертировать графику в PNG**, или планируете **множественные преобразования графики**, это руководство проведёт вас через каждый шаг в понятном, разговорном стиле.

## Быстрые ответы
- **Что означает «мировое преобразование»?** Оно отображает логические (мировые) координаты вашего рисунка в координаты страницы (устройства).  
- **Можно ли экспортировать результат в PNG?** Да — после рисования просто вызовите `bitmap.Save(...)` с расширением `.png`.  
- **Нужна ли лицензия для Aspose.Drawing?** Бесплатная пробная версия подходит для разработки; для продакшна требуется коммерческая лицензия.  
- **Совместимо ли это с .NET 6/7?** Абсолютно — Aspose.Drawing поддерживает .NET Framework 4.5+ и .NET Core/5/6/7.  
- **Сколько преобразований можно цепочкой?** Вы можете применять **множество графических преобразований** последовательно (перемещение, вращение, масштабирование и т.д.).

## Что такое мировое преобразование в Aspose.Drawing?

Мировое преобразование изменяет систему координат, которую используют ваши команды рисования. По умолчанию (0,0) находится в левом верхнем углу bitmap. С помощью `TranslateTransform`, `RotateTransform` или `ScaleTransform` вы можете переместить эту точку начала, повернуть фигуры или изменить их размер, не меняя исходную геометрию.

## Почему стоит использовать пример перемещения графики?

- **Упрощает позиционирование** — перемещайте объекты без пересчёта каждой точки.  
- **Поддерживает чистый код** — один вызов преобразования заменяет множество ручных корректировок координат.  
- **Повышает производительность** — графический движок выполняет вычисления внутри себя.  

## Предварительные требования

Прежде чем начать, убедитесь, что у вас есть:

- **Библиотека Aspose.Drawing**, интегрированная в ваш .NET‑проект (скачайте с официальной [страницы релизов Aspose.Drawing](https://releases.aspose.com/drawing/net/)).  
- **Каталог документов**, куда будет сохраняться результирующее изображение.  
- Базовые знания синтаксиса **C#** и Visual Studio или вашей любимой IDE.  

Теперь давайте погрузимся в код!

## Подключение пространств имён

Сначала подключим необходимые пространства имён:

```csharp
using System.Drawing;
using Aspose.Drawing;
```

Эти директивы дают доступ к `Bitmap`, `Graphics` и утилитам рисования Aspose.

## Пошаговое руководство

### Шаг 1: Создание Bitmap

Создаём пустой холст, который будет содержать наш рисунок.

```csharp
//ExStart: WorldTransformation
Bitmap bitmap = new Bitmap(1000, 800, System.Drawing.Imaging.PixelFormat.Format32bppPArgb);
Graphics graphics = Graphics.FromImage(bitmap);
graphics.Clear(Color.FromKnownColor(KnownColor.Gray));
```

- **Почему 32bppPArgb?** Этот формат пикселей поддерживает альфа‑прозрачность и высококачественную цветовую передачу, идеально подходит для вывода в PNG.  
- **Совет:** Подгоните ширину/высоту под требуемый размер изображения.

### Шаг 2: Установка мирового преобразования (пример перемещения графики)

Здесь мы смещаем начало координат в центр bitmap, чтобы команды рисования были относительными к этой точке.

```csharp
// Set the transformation that maps world coordinates to page coordinates:
graphics.TranslateTransform(500, 400);
```

- Это перемещает точку (0,0) в (500, 400) — центр канвы 1000 × 800.  
- Вы можете добавить дополнительные преобразования (например, `RotateTransform`, `ScaleTransform`) для **многих графических преобразований**.

### Шаг 3: Рисуем прямоугольник с использованием преобразованных координат

Теперь любая фигура будет позиционироваться относительно нового начала координат.

```csharp
Pen pen = new Pen(Color.FromKnownColor(KnownColor.Blue), 2);
graphics.DrawRectangle(pen, 0, 0, 300, 200);
```

- Верхний‑левый угол прямоугольника начинается в преобразованном начале (центр изображения).  
- Не стесняйтесь экспериментировать с другими фигурами — эллипсами, линиями или пользовательскими путями.

### Шаг 4: Сохранение результата — конвертация графики в PNG

Наконец, сохраняем bitmap как PNG‑файл.

```csharp
bitmap.Save("Your Document Directory" + @"CoordinateSystemsTransformations\WorldTransformation_out.png");
//ExEnd: WorldTransformation
```

- PNG сохраняет точные цвета и прозрачность, заданные ранее.  
- Замените `"Your Document Directory"` на реальный путь к папке на вашем компьютере.

## Распространённые проблемы и их решения

| Проблема | Почему происходит | Решение |
|----------|-------------------|---------|
| **Ошибка «файл не найден»** при сохранении | Целевая папка не существует. | Создайте папку программно (`Directory.CreateDirectory`) перед вызовом `Save`. |
| **Пустое изображение** после преобразования | `TranslateTransform` вызван после рисования. | Убедитесь, что преобразование установлено **до** любых команд рисования. |
| **Искажённые цвета** | Используется несовместимый формат пикселей. | Оставайтесь на `Format32bppPArgb` для вывода в PNG. |

## Часто задаваемые вопросы

**В: Можно ли применить более одного преобразования?**  
О: Да — вы можете цепочкой использовать `TranslateTransform`, `RotateTransform` и `ScaleTransform` для создания сложных эффектов.

**В: Бесплатна ли Aspose.Drawing для коммерческих проектов?**  
О: Доступна бесплатная пробная для оценки, но для продакшна требуется коммерческая лицензия.

**В: Работает ли это с .NET Core и .NET 5/6/7?**  
О: Абсолютно. Aspose.Drawing поддерживает все современные среды .NET.

**В: Где найти полную ссылку на API?**  
О: Полная документация доступна [здесь](https://reference.aspose.com/drawing/net/).

**В: Как решить проблему с отсутствующим файлом вывода?**  
О: Проверьте строку пути, убедитесь в наличии прав на запись и в том, что каталог существует перед вызовом `Save`.

## Заключение

Теперь вы знаете, как **создать bitmap с Aspose.Drawing**, применить **мировое преобразование** и **конвертировать графику в PNG**. Овладев этими основами, вы сможете создавать более богатую графику, генерировать динамические изображения и интегрировать сложные визуальные эффекты в любое .NET‑приложение.

---

**Последнее обновление:** 2025-11-29  
**Тестировано с:** Aspose.Drawing 24.11 for .NET  
**Автор:** Aspose  
**Связанные ресурсы:** [Aspose.Drawing API Reference](https://reference.aspose.com/drawing/net/) | [Скачать бесплатную пробную версию](https://releases.aspose.com/drawing/net/)

{{< /blocks/products/pf/tutorial-page-section >}}

{{< /blocks/products/pf/main-container >}}
{{< /blocks/products/pf/main-wrap-class >}}

{{< blocks/products/products-backtop-button >}}